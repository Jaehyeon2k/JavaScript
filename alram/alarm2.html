<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì•ŒëŒ í”„ë¡œê·¸ë¨</title>
  <style>
    /* ê¸°ë³¸ ë°°ê²½ ë° ì¤‘ì•™ ì •ë ¬ */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #dff9fb, #c7ecee);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* ì•ŒëŒ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
    .alarm-container {
      background-color: white;
      padding: 40px 60px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      text-align: center;
      width: 300px;
    }

    /* ì œëª© ìŠ¤íƒ€ì¼ */
    h1 {
      margin-bottom: 30px;
      color: #130f40;
    }

    /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
    button {
      font-size: 18px;
      padding: 10px 20px;
      margin: 0 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    /* ë¹„í™œì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    button:disabled {
      background-color: #dcdde1;
      color: #888;
      cursor: not-allowed;
    }

    /* ì‹œì‘ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #startBtn {
      background-color: #1abc9c;
      color: white;
    }

    /* ì·¨ì†Œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #cancelBtn {
      background-color: #e74c3c;
      color: white;
    }

    /* ìƒíƒœ ë©”ì‹œì§€ ì˜ì—­ */
    #status {
      margin-top: 20px;
      font-size: 18px;
      color: #2f3640;
    }
  </style>
</head>
<body>

  <div class="alarm-container">
    <h1>ğŸ”” ì•ŒëŒ í”„ë¡œê·¸ë¨</h1>
    <button id="startBtn">ì‹œì‘</button>
    <button id="cancelBtn" disabled>ì·¨ì†Œ</button>
    <div id="status">ì•ŒëŒ ëŒ€ê¸° ì¤‘...</div>
  </div>

  <script>
// ë²„íŠ¼ ìš”ì†Œ ë° ìƒíƒœ ë©”ì‹œì§€ ì˜ì—­ì„ HTMLì—ì„œ ê°€ì ¸ì˜¤ê¸°
const startBtn = document.getElementById("startBtn");     // [ì‹œì‘] ë²„íŠ¼
const cancelBtn = document.getElementById("cancelBtn");   // [ì·¨ì†Œ] ë²„íŠ¼
const statusDiv = document.getElementById("status");      // ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œí•  <div>

// ì•ŒëŒ ë™ì‘ ì œì–´ìš© ë³€ìˆ˜ë“¤ ì„ ì–¸
let alarmCount = 0;            // ì§€ê¸ˆê¹Œì§€ ìš¸ë¦° ì•ŒëŒ íšŸìˆ˜ (0 â†’ 1ë²ˆì§¸, 1 â†’ 2ë²ˆì§¸ ...)
let countdown = 10;            // ê° ì•ŒëŒë§ˆë‹¤ 10ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´
let countdownInterval = null; // setIntervalì„ ì €ì¥í•  ë³€ìˆ˜ (íƒ€ì´ë¨¸ ì •ì§€ ì‹œ clearIntervalìš©)

// í˜„ì¬ ìƒíƒœë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜
function updateStatus() {
  // " ë‚¨ì€ ì‹œê°„: 8ì´ˆ (2/3 ì•ŒëŒ ì¤‘)" ì´ëŸ° í˜•ì‹ìœ¼ë¡œ í‘œì‹œ
  statusDiv.textContent = `â³ ë‚¨ì€ ì‹œê°„: ${countdown}ì´ˆ (${alarmCount + 1}/3 ì•ŒëŒ ì¤‘)`;
}

// 10ì´ˆ íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ (ê° ì•ŒëŒ ì „ì— í˜¸ì¶œë¨)
function startCountdown() {
  countdown = 10;       // íƒ€ì´ë¨¸ë¥¼ 10ì´ˆë¡œ ì´ˆê¸°í™”
  updateStatus();       // ìƒíƒœ ë©”ì‹œì§€ë¥¼ ì²« ì¤„ë¡œ ê°±ì‹ 

  // 1ì´ˆë§ˆë‹¤ countdown ê°’ì„ ê°ì†Œì‹œí‚¤ëŠ” ë°˜ë³µ ë™ì‘ ì‹œì‘
  countdownInterval = setInterval(() => {
    countdown--;        // 1ì´ˆì”© ê°ì†Œ
    updateStatus();     // í™”ë©´ì— ë‚¨ì€ ì‹œê°„ ê°±ì‹ 

    // ì‹œê°„ì´ 0ì´ ë˜ë©´ ì•ŒëŒ ìš¸ë¦¬ê³ , ì´ íƒ€ì´ë¨¸ëŠ” ë©ˆì¶˜ë‹¤
    if (countdown <= 0) {
      clearInterval(countdownInterval); // í˜„ì¬ íƒ€ì´ë¨¸ ì¢…ë£Œ
      triggerAlarm();                   // ì•ŒëŒì„ ìš¸ë¦¬ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
    }
  }, 1000); // 1000ms = 1ì´ˆ ì£¼ê¸°ë¡œ ì‹¤í–‰
}

// ì‹¤ì œ ì•ŒëŒì„ ìš¸ë¦¬ëŠ” í•¨ìˆ˜
function triggerAlarm() {
  // ê²½ê³ ì°½(alert)ìœ¼ë¡œ ì•ŒëŒ ìš¸ë¦¼ ì•Œë¦¼
  alert(`ğŸ”” ${alarmCount + 1}ë²ˆì§¸ ì•ŒëŒ!`);

  alarmCount++; // ìš¸ë¦° ì•ŒëŒ ìˆ˜ +1

  // ì•„ì§ 3ë²ˆ ë‹¤ ì•ˆ ìš¸ë ¸ìœ¼ë©´ ë‹¤ìŒ ì•ŒëŒì„ ìœ„í•´ ë‹¤ì‹œ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
  if (alarmCount < 3) {
    startCountdown();
  } else {
    // ì•ŒëŒì´ 3ë²ˆ ë‹¤ ìš¸ë ¸ë‹¤ë©´ ì¢…ë£Œ ì²˜ë¦¬
    endAlarm("âœ… ì•ŒëŒ ì¢…ë£Œë¨");
  }
}

// ì•ŒëŒì„ ì¤‘ë‹¨í•˜ê±°ë‚˜ ì •ìƒ ì¢…ë£Œí•  ë•Œ ìƒíƒœ ì´ˆê¸°í™”
function endAlarm(message) {
  clearInterval(countdownInterval); // í˜¹ì‹œ ë‚¨ì•„ìˆëŠ” íƒ€ì´ë¨¸ë„ ì •ì§€

  // ë²„íŠ¼ ìƒíƒœ ì´ˆê¸°í™”
  startBtn.disabled = false;  // ì‹œì‘ ë²„íŠ¼ ë‹¤ì‹œ í´ë¦­ ê°€ëŠ¥í•˜ê²Œ
  cancelBtn.disabled = true;  // ì·¨ì†Œ ë²„íŠ¼ì€ ë¹„í™œì„±í™”

  statusDiv.textContent = message; // ìµœì¢… ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
}

// ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ ì•ŒëŒì„ ìƒˆë¡œ ì‹œì‘í•˜ëŠ” ë™ì‘
startBtn.addEventListener("click", () => {
  alarmCount = 0;              // ì•ŒëŒ íšŸìˆ˜ ì´ˆê¸°í™”
  startBtn.disabled = true;    // ì¤‘ë³µ í´ë¦­ ë°©ì§€ (ë¹„í™œì„±í™”)
  cancelBtn.disabled = false;  // ì·¨ì†Œ ë²„íŠ¼ í™œì„±í™”

  startCountdown();            // ì²« ì•ŒëŒì„ ìœ„í•œ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
});

// ì·¨ì†Œ ë²„íŠ¼ í´ë¦­ ì‹œ ì•ŒëŒ ì¤‘ë‹¨ ì²˜ë¦¬
cancelBtn.addEventListener("click", () => {
  endAlarm("â›” ì•ŒëŒ ì·¨ì†Œë¨"); // ì¢…ë£Œ ì²˜ë¦¬ í•¨ìˆ˜ í˜¸ì¶œ (ì·¨ì†Œ ë©”ì‹œì§€ ì „ë‹¬)
});

  </script>

</body>
</html>
